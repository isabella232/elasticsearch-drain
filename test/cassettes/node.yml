---
http_interactions:
- request:
    method: get
    uri: http://localhost:9250/_nodes/_all
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '3486'
    body:
      encoding: UTF-8
      string: '{"cluster_name":"elasticsearch_test","nodes":{"JwntYesBTV29Yv6TbdTMAg":{"name":"node-1","transport_address":"inet[/10.1.100.57:9300]","host":"cam-mbp-2852.cam.rapid7.com","ip":"10.1.100.57","version":"1.7.2","build":"e43676b","http_address":"inet[/10.1.100.57:9250]","attributes":{"bench":"true","test":"true"},"settings":{"node":{"bench":"true","test":"true","name":"node-1"},"client":{"type":"node"},"http":{"port":"9250"},"name":"node-1","logger":{"level":"DEBUG"},"path":{"work":"/tmp","data":"/tmp","home":"/Users/athompson/code/personal/elasticsearch-drain/tmp/elasticsearch-1.7.2","logs":"/Users/athompson/code/personal/elasticsearch-drain/tmp/elasticsearch-1.7.2/logs"},"config":{"ignore_system_properties":"true"},"cluster":{"routing":{"allocation":{"disk":{"threshold_enabled":"false"}}},"name":"elasticsearch_test"},"script":{"disable_dynamic":"false"},"discovery":{"zen":{"ping":{"multicast":{"enabled":"true"}}}},"foreground":"yes","network":{"host":"0.0.0.0"}},"os":{"refresh_interval_in_millis":1000,"available_processors":8,"cpu":{"vendor":"Intel","model":"MacBookPro11,3","mhz":2500,"total_cores":8,"total_sockets":8,"cores_per_socket":16,"cache_size_in_bytes":256},"mem":{"total_in_bytes":17179869184},"swap":{"total_in_bytes":2147483648}},"process":{"refresh_interval_in_millis":1000,"id":34353,"max_file_descriptors":10240,"mlockall":false},"jvm":{"pid":34353,"version":"1.7.0_79","vm_name":"Java
        HotSpot(TM) 64-Bit Server VM","vm_version":"24.79-b02","vm_vendor":"Oracle
        Corporation","start_time_in_millis":1445882456057,"mem":{"heap_init_in_bytes":268435456,"heap_max_in_bytes":1037959168,"non_heap_init_in_bytes":24313856,"non_heap_max_in_bytes":136314880,"direct_max_in_bytes":1037959168},"gc_collectors":["ParNew","ConcurrentMarkSweep"],"memory_pools":["Code
        Cache","Par Eden Space","Par Survivor Space","CMS Old Gen","CMS Perm Gen"]},"thread_pool":{"generic":{"type":"cached","keep_alive":"30s","queue_size":-1},"index":{"type":"fixed","min":8,"max":8,"queue_size":"200"},"fetch_shard_store":{"type":"scaling","min":1,"max":16,"keep_alive":"5m","queue_size":-1},"get":{"type":"fixed","min":8,"max":8,"queue_size":"1k"},"snapshot":{"type":"scaling","min":1,"max":4,"keep_alive":"5m","queue_size":-1},"merge":{"type":"scaling","min":1,"max":4,"keep_alive":"5m","queue_size":-1},"suggest":{"type":"fixed","min":8,"max":8,"queue_size":"1k"},"bulk":{"type":"fixed","min":8,"max":8,"queue_size":"50"},"optimize":{"type":"fixed","min":1,"max":1,"queue_size":-1},"warmer":{"type":"scaling","min":1,"max":4,"keep_alive":"5m","queue_size":-1},"flush":{"type":"scaling","min":1,"max":4,"keep_alive":"5m","queue_size":-1},"search":{"type":"fixed","min":13,"max":13,"queue_size":"1k"},"fetch_shard_started":{"type":"scaling","min":1,"max":16,"keep_alive":"5m","queue_size":-1},"listener":{"type":"fixed","min":4,"max":4,"queue_size":-1},"percolate":{"type":"fixed","min":8,"max":8,"queue_size":"1k"},"management":{"type":"scaling","min":1,"max":5,"keep_alive":"5m","queue_size":-1},"refresh":{"type":"scaling","min":1,"max":4,"keep_alive":"5m","queue_size":-1}},"network":{"refresh_interval_in_millis":5000,"primary_interface":{"address":"10.1.100.57","name":"en5","mac_address":"14:B1:C8:00:44:3D"}},"transport":{"bound_address":"inet[/0:0:0:0:0:0:0:0:9300]","publish_address":"inet[/10.1.100.57:9300]","profiles":{}},"http":{"bound_address":"inet[/0:0:0:0:0:0:0:0:9250]","publish_address":"inet[/10.1.100.57:9250]","max_content_length_in_bytes":104857600},"plugins":[]}}}'
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:13:04 GMT
- request:
    method: get
    uri: http://localhost:9250/_nodes/stats/_all
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '6371'
    body:
      encoding: UTF-8
      string: '{"cluster_name":"elasticsearch_test","nodes":{"JwntYesBTV29Yv6TbdTMAg":{"timestamp":1445883184926,"name":"node-1","transport_address":"inet[/10.1.100.57:9300]","host":"cam-mbp-2852.cam.rapid7.com","ip":["inet[/10.1.100.57:9300]","NONE"],"attributes":{"bench":"true","test":"true"},"indices":{"docs":{"count":0,"deleted":0},"store":{"size_in_bytes":0,"throttle_time_in_millis":0},"indexing":{"index_total":0,"index_time_in_millis":0,"index_current":0,"delete_total":0,"delete_time_in_millis":0,"delete_current":0,"noop_update_total":0,"is_throttled":false,"throttle_time_in_millis":0},"get":{"total":0,"time_in_millis":0,"exists_total":0,"exists_time_in_millis":0,"missing_total":0,"missing_time_in_millis":0,"current":0},"search":{"open_contexts":0,"query_total":0,"query_time_in_millis":0,"query_current":0,"fetch_total":0,"fetch_time_in_millis":0,"fetch_current":0},"merges":{"current":0,"current_docs":0,"current_size_in_bytes":0,"total":0,"total_time_in_millis":0,"total_docs":0,"total_size_in_bytes":0},"refresh":{"total":0,"total_time_in_millis":0},"flush":{"total":0,"total_time_in_millis":0},"warmer":{"current":0,"total":0,"total_time_in_millis":0},"filter_cache":{"memory_size_in_bytes":0,"evictions":0},"id_cache":{"memory_size_in_bytes":0},"fielddata":{"memory_size_in_bytes":0,"evictions":0},"percolate":{"total":0,"time_in_millis":0,"current":0,"memory_size_in_bytes":-1,"memory_size":"-1b","queries":0},"completion":{"size_in_bytes":0},"segments":{"count":0,"memory_in_bytes":0,"index_writer_memory_in_bytes":0,"index_writer_max_memory_in_bytes":0,"version_map_memory_in_bytes":0,"fixed_bit_set_memory_in_bytes":0},"translog":{"operations":0,"size_in_bytes":0},"suggest":{"total":0,"time_in_millis":0,"current":0},"query_cache":{"memory_size_in_bytes":0,"evictions":0,"hit_count":0,"miss_count":0},"recovery":{"current_as_source":0,"current_as_target":0,"throttle_time_in_millis":0}},"os":{"timestamp":1445883184932,"uptime_in_millis":600082,"load_average":[1.75732421875,1.81494140625,1.68896484375],"cpu":{"sys":1,"user":3,"idle":94,"usage":4,"stolen":0},"mem":{"free_in_bytes":2840813568,"used_in_bytes":14339055616,"free_percent":31,"used_percent":68,"actual_free_in_bytes":5418557440,"actual_used_in_bytes":11761311744},"swap":{"used_in_bytes":543424512,"free_in_bytes":1604059136}},"process":{"timestamp":1445883184932,"open_file_descriptors":224,"cpu":{"percent":0,"sys_in_millis":2421,"user_in_millis":5567,"total_in_millis":7988},"mem":{"resident_in_bytes":197242880,"share_in_bytes":-1,"total_virtual_in_bytes":4015599616}},"jvm":{"timestamp":1445883184933,"uptime_in_millis":728876,"mem":{"heap_used_in_bytes":86263216,"heap_used_percent":8,"heap_committed_in_bytes":259522560,"heap_max_in_bytes":1037959168,"non_heap_used_in_bytes":32027448,"non_heap_committed_in_bytes":33554432,"pools":{"young":{"used_in_bytes":62974272,"max_in_bytes":286326784,"peak_used_in_bytes":71630848,"peak_max_in_bytes":286326784},"survivor":{"used_in_bytes":8912896,"max_in_bytes":35782656,"peak_used_in_bytes":8912896,"peak_max_in_bytes":35782656},"old":{"used_in_bytes":14376048,"max_in_bytes":715849728,"peak_used_in_bytes":14376048,"peak_max_in_bytes":715849728}}},"threads":{"count":71,"peak_count":73},"gc":{"collectors":{"young":{"collection_count":2,"collection_time_in_millis":30},"old":{"collection_count":0,"collection_time_in_millis":0}}},"buffer_pools":{"direct":{"count":89,"used_in_bytes":12590952,"total_capacity_in_bytes":12590952},"mapped":{"count":0,"used_in_bytes":0,"total_capacity_in_bytes":0}}},"thread_pool":{"generic":{"threads":1,"queue":0,"active":0,"rejected":0,"largest":3,"completed":80},"index":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"fetch_shard_store":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"get":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"snapshot":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"merge":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"suggest":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"bulk":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"optimize":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"warmer":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"flush":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"search":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"fetch_shard_started":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"listener":{"threads":4,"queue":0,"active":0,"rejected":0,"largest":4,"completed":9},"percolate":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0},"management":{"threads":2,"queue":0,"active":1,"rejected":0,"largest":2,"completed":51},"refresh":{"threads":0,"queue":0,"active":0,"rejected":0,"largest":0,"completed":0}},"network":{"tcp":{"active_opens":86832,"passive_opens":1576,"curr_estab":80,"in_segs":28959619,"out_segs":11294339,"retrans_segs":7945,"estab_resets":4168,"attempt_fails":47790,"in_errs":0,"out_rsts":-1}},"fs":{"timestamp":1445883184934,"total":{"total_in_bytes":499099262976,"free_in_bytes":418897707008,"available_in_bytes":418635563008,"disk_reads":0,"disk_writes":0,"disk_io_op":0,"disk_read_size_in_bytes":0,"disk_write_size_in_bytes":0,"disk_io_size_in_bytes":0},"data":[{"path":"/tmp/elasticsearch_test/nodes/0","mount":"/","dev":"/dev/disk1","type":"hfs","total_in_bytes":499099262976,"free_in_bytes":418897707008,"available_in_bytes":418635563008,"disk_reads":0,"disk_writes":0,"disk_io_op":0,"disk_read_size_in_bytes":0,"disk_write_size_in_bytes":0,"disk_io_size_in_bytes":0}]},"transport":{"server_open":13,"rx_count":6,"rx_size_in_bytes":1908,"tx_count":6,"tx_size_in_bytes":1908},"http":{"current_open":1,"total_opened":12},"breakers":{"fielddata":{"limit_size_in_bytes":622775500,"limit_size":"593.9mb","estimated_size_in_bytes":0,"estimated_size":"0b","overhead":1.03,"tripped":0},"request":{"limit_size_in_bytes":415183667,"limit_size":"395.9mb","estimated_size_in_bytes":0,"estimated_size":"0b","overhead":1.0,"tripped":0},"parent":{"limit_size_in_bytes":726571417,"limit_size":"692.9mb","estimated_size_in_bytes":0,"estimated_size":"0b","overhead":1.0,"tripped":0}}}}}'
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:13:04 GMT
- request:
    method: get
    uri: http://localhost:9250/_cat/recovery?format=json
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '2'
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:13:22 GMT
- request:
    method: get
    uri: http://localhost:9250/_cat/recovery?format=json
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '1850'
    body:
      encoding: UTF-8
      string: '[{"index":"twitter","shard":"0","time":"67","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"1","time":"38","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"2","time":"24","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"3","time":"53","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"4","time":"3","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"}]'
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:16:43 GMT
- request:
    method: get
    uri: http://localhost:9250/_cat/recovery
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain; charset=UTF-8
      Content-Length:
      - '600'
    body:
      encoding: UTF-8
      string: "twitter 0 67 gateway done cam-mbp-2852.cam.rapid7.com cam-mbp-2852.cam.rapid7.com
        n/a n/a 0 0.0% 0 0.0% 0 0 0 100.0% 0 \ntwitter 1 38 gateway done cam-mbp-2852.cam.rapid7.com
        cam-mbp-2852.cam.rapid7.com n/a n/a 0 0.0% 0 0.0% 0 0 0 100.0% 0 \ntwitter
        2 24 gateway done cam-mbp-2852.cam.rapid7.com cam-mbp-2852.cam.rapid7.com
        n/a n/a 0 0.0% 0 0.0% 0 0 0 100.0% 0 \ntwitter 3 53 gateway done cam-mbp-2852.cam.rapid7.com
        cam-mbp-2852.cam.rapid7.com n/a n/a 0 0.0% 0 0.0% 0 0 0 100.0% 0 \ntwitter
        4 3  gateway done cam-mbp-2852.cam.rapid7.com cam-mbp-2852.cam.rapid7.com
        n/a n/a 0 0.0% 0 0.0% 0 0 0 100.0% 0 \n"
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:17:39 GMT
- request:
    method: get
    uri: http://localhost:9250/_cat/recovery?format=json&v=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '1850'
    body:
      encoding: UTF-8
      string: '[{"index":"twitter","shard":"0","time":"67","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"1","time":"38","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"2","time":"24","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"3","time":"53","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"4","time":"3","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"}]'
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:18:13 GMT
- request:
    method: get
    uri: http://localhost:9250/_cat/recovery?format=json&v=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '1850'
    body:
      encoding: UTF-8
      string: '[{"index":"twitter","shard":"0","time":"67","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"1","time":"38","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"2","time":"24","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"3","time":"53","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"},{"index":"twitter","shard":"4","time":"3","type":"gateway","stage":"done","source_host":"cam-mbp-2852.cam.rapid7.com","target_host":"cam-mbp-2852.cam.rapid7.com","repository":"n/a","snapshot":"n/a","files":"0","files_percent":"0.0%","bytes":"0","bytes_percent":"0.0%","total_files":"0","total_bytes":"0","translog":"0","translog_percent":"100.0%","total_translog":"0"}]'
    http_version: 
  recorded_at: Mon, 26 Oct 2015 18:18:23 GMT
recorded_with: VCR 2.9.3
